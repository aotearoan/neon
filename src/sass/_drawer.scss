@use './includes/responsive';
@use './includes/layout';
@use './includes/globals';

@mixin drawer(
  $spacings,
  $neon-animation-speed-slow,
  $neon-side-nav-width,
  $neon-animation-speed-fast,
  $neon-top-nav-height-desktop,
  $neon-top-nav-height-tablet,
  $neon-top-nav-height-mobile,
) {
  .neon-drawer {
    &__container {
      position: fixed;
      overflow: hidden;
      margin: 0;
      z-index: globals.$z-index-top;
      @include layout.padding($spacings, $multiplier: 0.75);
      transition: margin-left ease-in-out $neon-animation-speed-slow,
      margin-right ease-in-out $neon-animation-speed-slow, margin-top ease-in-out $neon-animation-speed-slow,
      margin-bottom ease-in-out $neon-animation-speed-slow;

      &--full-width {
        padding: 0;
      }
    }

    &--left,
    &--right {
      .neon-drawer__container {
        top: 0;
        width: $neon-side-nav-width;
        @include layout.min-height(100);
        @include layout.height(100);
      }
    }

    &--left {
      .neon-drawer__container {
        left: 0;
      }

      &:not(.neon-drawer--open) .neon-drawer__container {
        margin-left: -200%;
      }
    }

    &--right {
      .neon-drawer__container {
        right: 0;
      }

      &:not(.neon-drawer--open) .neon-drawer__container {
        margin-right: -200%;
      }
    }

    &--top,
    &--bottom {
      .neon-drawer__container {
        left: 0;
        @include layout.width(100);
      }
    }

    &--top {
      .neon-drawer__container {
        top: 0;
        margin-top: 0;
      }

      &:not(.neon-drawer--open) .neon-drawer__container {
        margin-top: -200%;
      }
    }

    &--bottom {
      .neon-drawer__container {
        bottom: 0;
      }

      &:not(.neon-drawer--open) .neon-drawer__container {
        margin-bottom: -200%;
      }
    }

    .neon-drawer__overlay {
      opacity: 0;
      z-index: globals.$z-index-below;
      position: fixed;
      pointer-events: none;
      top: 0;
      left: 0;
      @include layout.width(100);
      @include layout.min-height(100);
      @include layout.height(100);
    }

    &.neon-drawer--open {
      .neon-drawer__overlay {
        opacity: 1;
        pointer-events: auto;
        z-index: globals.$z-index-top;
        transition: opacity ease-in-out 0.5 * $neon-animation-speed-fast;
      }
    }
  }

  .neon-page--with-top-nav {
    .neon-drawer--top {
      .neon-drawer__overlay {
        z-index: globals.$z-index-above-2;
      }

      .neon-drawer__container {
        z-index: globals.$z-index-above-2;
      }
    }

    .neon-drawer--top {
      .neon-drawer__container {
        @include responsive.responsive(larger-than-tablet) {
          margin-top: $neon-top-nav-height-desktop;
        }

        @include responsive.responsive(tablet) {
          margin-top: $neon-top-nav-height-tablet;
        }

        @include responsive.responsive(mobile-large) {
          margin-top: $neon-top-nav-height-mobile;
        }
      }

      &:not(.neon-drawer--open) .neon-drawer__container {
        margin-top: -200%;
      }
    }
  }
}

@mixin drawer-colors(
  $neon-background-color-overlay,
  $neon-background-color-card,
  $neon-box-shadow,
  $neon-border-width-drawer,
  $neon-border-style,
  $neon-border-color,
  $neon-border-radius-drawer,
) {
  .neon-drawer {
    &--with-overlay {
      .neon-drawer__overlay {
        background-color: $neon-background-color-overlay;
      }
    }

    &__container {
      background-color: $neon-background-color-card;
      box-shadow: $neon-box-shadow;
    }

    &--left {
      .neon-drawer__container {
        border-right: $neon-border-width-drawer $neon-border-style $neon-border-color;
        border-top-right-radius: $neon-border-radius-drawer;
        border-bottom-right-radius: $neon-border-radius-drawer;
      }
    }

    &--right {
      .neon-drawer__container {
        border-left: $neon-border-width-drawer $neon-border-style $neon-border-color;
        border-top-left-radius: $neon-border-radius-drawer;
        border-bottom-left-radius: $neon-border-radius-drawer;
      }
    }

    &--top {
      .neon-drawer__container {
        border-bottom: $neon-border-width-drawer $neon-border-style $neon-border-color;
        border-bottom-left-radius: $neon-border-radius-drawer;
        border-bottom-right-radius: $neon-border-radius-drawer;
      }
    }

    &--bottom {
      .neon-drawer__container {
        border-top: $neon-border-width-drawer $neon-border-style $neon-border-color;
        border-top-left-radius: $neon-border-radius-drawer;
        border-top-right-radius: $neon-border-radius-drawer;
      }
    }
  }
}