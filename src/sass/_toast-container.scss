@use './includes/svg';
@use './includes/outline';

@mixin import(
  $neon-size-l,
  $neon-width-toast,
  $neon-base-space,
  $neon-border-radius,
  $neon-font-size-l,
  $neon-line-height-one,
  $neon-font-size-m,
) {
  .neon-alert {
    &--top {
      top: 0;
    }

    &--bottom {
      bottom: 0;
    }

    &--top,
    &--bottom {
      min-width: 100%;
      max-width: 100%;
      align-items: center;
    }

    .neon-toast__message {
      pointer-events: visible;
      touch-action: auto;
      height: $neon-size-l;
      min-width: $neon-width-toast;
      margin: $neon-base-space;
      overflow: hidden;
      border-radius: 2 * $neon-border-radius;
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      position: relative;
      padding: 3 * $neon-base-space 3.5 * $neon-base-space;

      &--dismissable {
        cursor: pointer;
      }

      .neon-toast__close {
        min-width: $neon-font-size-l;
        width: $neon-font-size-l;
        min-height: $neon-font-size-l;
        height: $neon-font-size-l;
        margin-left: 3.5 * $neon-base-space;
        opacity: 0.5;
        outline: none;
      }

      &:hover {
        .neon-toast__close {
          opacity: 1;
        }
      }
    }

    .neon-toast__title {
      line-height: $neon-line-height-one;
      font-size: $neon-font-size-m;
      font-weight: 400;
    }
  }
}

@mixin import-colors(
  $neon-box-shadow-alert,
  $alert-colors,
  $neon-background-color-toast,
  $neon-color-toast,
) {
  .neon-toast__message {
    box-shadow: $neon-box-shadow-alert;

    @each $color, $palette in $alert-colors {
      $alert-background-color: map-get($palette, $neon-background-color-toast);
      $alert-color: map-get($palette, $neon-color-toast);

      &.neon-toast__message--#{$color} {
        background-color: $alert-background-color;
        @include svg.color-with-svg($alert-color);

        &:focus-within {
          @include outline.box-shadow-outline($alert-background-color);
        }
      }
    }
  }
}