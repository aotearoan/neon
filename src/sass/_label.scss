@use 'sass:map';
@use './includes/layout';
@use './includes/gradient';

@mixin neon-label-size($neon-base-space, $neon-label-height, $neon-height-scalar, $neon-label-font-size) {
  height: $neon-label-height - $neon-height-scalar * $neon-base-space;
  min-width: $neon-label-height - $neon-height-scalar * $neon-base-space;
  font-size: $neon-label-font-size;

  .neon-label__label {
    line-height: $neon-label-font-size;
  }

  .neon-icon {
    width: $neon-label-font-size;
    height: $neon-label-font-size;
  }
}

@mixin neon-label-colors($neon-label-component-color, ) {
  color: $neon-label-component-color;
  background: rgba($neon-label-component-color, 0.15);
}

@mixin neon-gradient-label($neon-label-component-color, $alternateColor) {
  background: linear-gradient(90deg, rgba($neon-label-component-color, 0.15), rgba($alternateColor, 0.15));

  .neon-label__label {
    @include gradient.neon-gradient-text($neon-label-component-color, $alternateColor);
  }
}

@mixin label(
  $neon-base-space,
  $neon-size-xxs,
  $neon-size-xs,
  $neon-size-s,
  $neon-size-m,
  $neon-size-l,
  $neon-font-size-xxs,
  $neon-font-size-xs,
  $neon-font-size-s,
  $neon-font-size-m,
  $neon-font-size-l,
  $neon-border-radius-label,
  $neon-letter-spacing-s,
) {
  .neon-label {
    &--xxs {
      padding: 0 $neon-base-space;
      @include neon-label-size($neon-base-space, $neon-size-xxs, 0, $neon-font-size-xxs);
    }

    &--xs {
      padding: 0 1.5 * $neon-base-space;
      @include neon-label-size($neon-base-space, $neon-size-xs, 1, $neon-font-size-xs);
    }

    &--s {
      padding: 0 2 * $neon-base-space;
      @include neon-label-size($neon-base-space, $neon-size-s, 1, $neon-font-size-s);
    }

    &--m {
      padding: 0 3.5 * $neon-base-space;
      @include neon-label-size($neon-base-space, $neon-size-m, 1, $neon-font-size-m);
    }

    &--l {
      padding: 0 4 * $neon-base-space;
      @include neon-label-size($neon-base-space, $neon-size-l, 1, $neon-font-size-l);
    }

    text-transform: uppercase;
    border-radius: $neon-border-radius-label;
    letter-spacing: $neon-letter-spacing-s;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    user-select: none;
    min-width: fit-content;
    width: fit-content;
    font-weight: 700;

    &__label {
      white-space: nowrap;
    }

    &--with-icon {
      &:not(.neon-label--with-label) {
        padding: 0;
      }

      &.neon-label--with-label {
        &.neon-label--icon-left .neon-icon {
          margin-right: $neon-base-space;
        }

        &.neon-label--icon-right .neon-icon {
          order: 1;
          margin-left: $neon-base-space;
        }
      }
    }
  }
}

@mixin label-colors(
  $neon-functional-colors,
  $neon-color-label,
  $neon-color-text,
  $neon-color-gradient-alternate,
) {
  .neon-label {
    @each $color, $palette in $neon-functional-colors {
      &--#{$color} {
        $neon-label-component-color: map.get($palette, $neon-color-label);
        @if ($color == high-contrast) {
          $neon-label-component-color: $neon-color-text;
        }

        @include neon-label-colors($neon-label-component-color);

        @each $alternateColor, $alternatePalette in $neon-functional-colors {
          &.neon-label--alternate-color-#{$alternateColor} {
            @include neon-gradient-label($neon-label-component-color, map.get($alternatePalette, $neon-color-gradient-alternate));
          }
        }
      }
    }
  }
}
