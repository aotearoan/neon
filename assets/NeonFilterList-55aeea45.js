import{a as A,b as C,l as L,g as V,_ as N}from"../index.js";import{u as $,R as I,w as i,D as w,x as s,y as u,M,O as z,P as v,K as b,J as _,H as B,Q as h,A as p,F as S,G as F,a2 as K}from"./vendor-7a8d752b.js";const E=$({name:"NeonFilterList",components:{NeonIcon:A,NeonLink:C},props:{items:{type:Array,required:!0},modelValue:{type:[String,Array],required:!0},multiple:{type:Boolean,default:!0},size:{type:String,default:L.Medium},color:{type:String,default:V.LowContrast},displayCount:{type:Number,default:null},showMoreLabel:{type:String,default:"Show {count} more"},showLessLabel:{type:String,default:"Show less"}},emits:["update:modelValue"],setup(e,{emit:r}){const o=I(!1),c=i(()=>{const t={};return(e.multiple?e.modelValue:[e.modelValue]).forEach(n=>t[n]=!0),t}),m=i(()=>e.displayCount&&e.items.length>e.displayCount),g=i(()=>m.value&&!o.value?e.items.filter((t,n)=>!e.displayCount||n<e.displayCount):e.items),f=i(()=>e.showMoreLabel.replace("{count}",`${e.items.length-g.value.length}`)),y=i(()=>o.value?e.showLessLabel:f.value),l=t=>{r("update:modelValue",t)};return{showAll:o,selected:c,visibleItems:g,toggleShowAllLabel:y,displayShowAllToggle:m,toggleItem:(t,n)=>{if(e.multiple)if(c.value[t])l(e.modelValue.filter(a=>a!==t));else{const a=[];e.modelValue.forEach(k=>a.push(k)),a.push(t),l(a)}else l(t===e.modelValue?"":t);n&&n.target.blur()},toggleShowAll:()=>{o.value=!o.value}}}}),T=["aria-activedescendant","aria-multiselectable"],q=["aria-selected","tabindex","onClick","onKeydown"],D={class:"neon-filter-list__item-label"},G={key:0,class:"neon-filter-list__item-count"};function H(e,r,o,c,m,g){const f=w("neon-icon"),y=w("neon-link");return s(),u("div",{"aria-activedescendant":e.multiple&&Array.isArray(e.modelValue)?e.modelValue[0]:!Array.isArray(e.modelValue)&&e.modelValue||void 0,"aria-multiselectable":e.multiple,class:v([[`neon-filter-list--${e.color}`,`neon-list--${e.size}`,`neon-filter-list--${e.size}`,{"neon-filter-list--multiple":e.multiple}],"neon-filter-list"]),role:"listbox"},[(s(!0),u(M,null,z(e.visibleItems,l=>(s(),u("div",{key:l.key,"aria-selected":e.selected[l.key],class:v([[{"neon-filter-list__item--disabled":l.disabled,"neon-filter-list__item--enabled":!l.disabled,"neon-filter-list__item--selected":e.selected[l.key]}],"neon-list__item neon-filter-list__item"]),tabindex:l.disabled?-1:0,role:"option",onClick:b(d=>!l.disabled&&e.toggleItem(l.key,d),["stop","prevent"]),onKeydown:[_(b(d=>!l.disabled&&e.toggleItem(l.key),["stop","prevent"]),["enter"]),_(b(d=>!l.disabled&&e.toggleItem(l.key),["stop","prevent"]),["space"])]},[B("span",D,h(l.label),1),l.count?(s(),u("span",G,h(l.count.toLocaleString()),1)):p("",!0),!l.disabled&&e.selected[l.key]?(s(),S(f,{key:1,color:e.color,disabled:l.disabled,class:"neon-filter-list__item-close",name:"times"},null,8,["color","disabled"])):p("",!0)],42,q))),128)),e.displayShowAllToggle?(s(),S(y,{key:0,class:"neon-filter-list__show-toggle",onClick:r[0]||(r[0]=l=>e.toggleShowAll())},{default:F(()=>[K(h(e.toggleShowAllLabel),1)]),_:1})):p("",!0)],10,T)}const Q=N(E,[["render",H]]);export{Q as N};
