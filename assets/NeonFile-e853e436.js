import{N as C,d as I,l as k,y as F,g as V,_ as S}from"../index.js";import{N as B}from"./NeonList-1ffbbc47.js";import{u as $,R as u,w as U,D as r,x as p,y as A,F as y,A as g,L as N,H as L,P as D}from"./vendor-7a8d752b.js";const M=$({name:"NeonFile",components:{NeonButton:C,NeonInput:I,NeonList:B},props:{disabled:{type:Boolean,default:!1},directUpload:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},accept:{type:String,default:null},id:{type:String,default:null},size:{type:String,default:k.Medium},state:{type:String,default:F.Ready},color:{type:String,default:V.LowContrast},label:{type:String,default:null},icon:{type:String,default:null}},emits:["update:modelValue"],setup(e,{emit:n}){const t=u(null),l=u([]),f=u(""),m=U(()=>l.value.map(o=>({key:o.name,label:o.name}))),a=()=>{n("update:modelValue",e.multiple?l.value:l.value[0]),e.directUpload&&(l.value=[])};return{fileInput:t,files:l,fileList:m,fileInputModel:f,remove:o=>{e.disabled||(l.value=l.value.filter(i=>i.name!==o),a())},clearAll:()=>{e.disabled||(l.value=[],a())},openFileDialog:()=>{var o;(o=t.value)==null||o.click()},onInput:o=>{if(o!=null&&o.target){const i=o.target.files,b=i?Array.from(i).filter(v=>!l.value.find(z=>z.name===v.name)):[];l.value=e.multiple?[...l.value,...b]:b,a()}}}}}),w=["aria-disabled"],R={class:"neon-button-group neon-file__actions"};function h(e,n,t,l,f,m){const a=r("neon-list"),c=r("neon-input"),s=r("neon-button");return p(),A("div",{"aria-disabled":e.disabled,class:D([[`neon-file--${e.color}`,`neon-file--${e.size}`,{"neon-file--disabled":e.disabled,"neon-file--single":!e.multiple,"neon-file--direct-upload":e.directUpload}],"neon-file"])},[e.directUpload?g("",!0):(p(),y(a,{key:0,color:e.color,disabled:e.disabled,modelValue:e.fileList,size:e.size,onClose:e.remove},null,8,["color","disabled","modelValue","size","onClose"])),N(c,{id:e.id,ref:"fileInput",modelValue:e.fileInputModel,"onUpdate:modelValue":n[0]||(n[0]=d=>e.fileInputModel=d),accept:e.accept,disabled:e.disabled,multiple:e.multiple,tabindex:-1,class:"neon-file__input",type:"file",onInput:e.onInput},null,8,["id","modelValue","accept","disabled","multiple","onInput"]),L("div",R,[e.multiple&&!e.directUpload?(p(),y(s,{key:0,disabled:e.disabled||e.files.length===0,size:e.size,"button-style":"text",label:"Clear all",onClick:n[1]||(n[1]=d=>e.clearAll())},null,8,["disabled","size"])):g("",!0),N(s,{"aria-controls":e.id?e.id:void 0,color:e.color,disabled:e.disabled,icon:e.icon,label:e.label,size:e.size,state:e.state,onClick:e.openFileDialog},null,8,["aria-controls","color","disabled","icon","label","size","state","onClick"])])],10,w)}const q=S(M,[["render",h]]);export{q as N};
