import{N as S,d as $,g as C,l as M,A,_ as k}from"../index.js";import{N as E}from"./NeonFieldGroup-88912f97.js";import{N as y}from"./NeonNumberUtils-581ff329.js";import{u as I,v as L,R as q,w as u,D as c,x as v,F as f,G as T,A as g,L as D,z as G,J as z,K as B,P as R}from"./vendor-7a8d752b.js";const h=I({name:"NeonNumber",components:{NeonButton:S,NeonFieldGroup:E,NeonInput:$},props:{modelValue:{type:Number,default:null},min:{type:Number,required:!1},max:{type:Number,required:!1},step:{type:Number,required:!1},color:{type:String,default:C.LowContrast},size:{type:String,default:M.Medium},locale:{type:String,default:null},placeholder:{type:String,default:null},disabled:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},spinButtons:{type:Boolean,default:!1},percentage:{type:Boolean,default:!1},decimals:{type:Number,required:!1},valueTemplate:{type:String,required:!1},inputmode:{type:String,default:A.Numeric},incrementLabel:{type:String,default:"Increment"},decrementLabel:{type:String,default:"Decrement"}},emits:["update:modelValue"],setup(e,{emit:l}){const p=L(),r=q(!1),d=n=>{e.disabled||l("update:modelValue",n)},N=u(()=>{const{onBlur:n,onFocus:o,...s}=p;return s}),m=n=>{const o=y.parseNumber(n),s=n!==""&&n!==null?Math.max(Math.min(o,e.max??Number.MAX_SAFE_INTEGER),e.min??Number.MIN_SAFE_INTEGER):null;(s===null||!isNaN(o))&&d(s)},t=u(()=>e.decimals??(e.percentage?0:void 0)),i=u(()=>e.percentage&&t.value!==void 0?t.value+2:t.value),a=u(()=>{const n=e.modelValue!==null?+e.modelValue:e.min||0;return i.value!==void 0?Number(n.toFixed(i.value)):n}),w=u(()=>e.modelValue!==null&&(e.valueTemplate!==void 0||t.value!==void 0||e.percentage!==void 0)?y.formatNumber(e.modelValue,{decimals:t.value,format:e.valueTemplate,percentage:e.percentage},e.locale):e.modelValue),V=u(()=>{var n;return i.value?(n=e.modelValue)==null?void 0:n.toFixed(i.value):e.modelValue}),F=u(()=>r.value?V.value?`${V.value}`:"":w.value),b=u(()=>e.step??(e.percentage?.01:1));return{focus:r,sanitizedAttributes:N,computedDecimals:t,computedRawDecimals:i,computedValue:a,computedStep:b,displayValue:F,valueChanged:m,increment:()=>{const n=a.value+b.value,o=e.max!==void 0?Math.min(e.max,n):n;o!==e.modelValue&&d(o)},decrement:()=>{const n=a.value-b.value,o=e.min!==void 0?Math.max(e.min,n):n;o!==e.modelValue&&d(o)},onFocus:()=>r.value=!0,onBlur:()=>r.value=!1}}});function K(e,l,p,r,d,N){const m=c("neon-button"),t=c("neon-input"),i=c("neon-field-group");return v(),f(i,{class:R([[`neon-number--${e.size}`,`neon-number--${e.color}`,{"neon-number--disabled":e.disabled,"neon-number--editable":e.editable,"neon-number--with-buttons":e.spinButtons}],"neon-number"])},{default:T(()=>[e.spinButtons?(v(),f(m,{key:0,"aria-label":e.decrementLabel,color:e.color,disabled:e.disabled||e.min!==void 0&&e.min===e.modelValue,size:e.size,"button-style":"outline",class:"neon-number__decrement",icon:"minus",onClick:l[0]||(l[0]=a=>e.decrement())},null,8,["aria-label","color","disabled","size"])):g("",!0),D(t,G({"aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":e.modelValue,color:e.color,disabled:e.disabled||!e.editable,inputmode:e.inputmode,max:e.max,min:e.min,"model-value":e.displayValue,placeholder:e.placeholder,size:e.size,step:e.computedStep,class:"neon-number__input",role:"spinbutton",type:"text"},e.sanitizedAttributes,{onBlur:l[1]||(l[1]=a=>e.onBlur()),onFocus:l[2]||(l[2]=a=>e.onFocus()),"onUpdate:modelValue":e.valueChanged,onKeydown:[l[3]||(l[3]=z(B(a=>e.increment(),["prevent"]),["up"])),l[4]||(l[4]=z(B(a=>e.decrement(),["prevent"]),["down"]))]}),null,16,["aria-valuemax","aria-valuemin","aria-valuenow","color","disabled","inputmode","max","min","model-value","placeholder","size","step","onUpdate:modelValue"]),e.spinButtons?(v(),f(m,{key:1,"aria-label":e.incrementLabel,color:e.color,disabled:e.disabled||e.max!==void 0&&e.max===e.modelValue,size:e.size,"button-style":"outline",class:"neon-number__increment",icon:"plus",onClick:l[5]||(l[5]=a=>e.increment())},null,8,["aria-label","color","disabled","size"])):g("",!0)]),_:1},8,["class"])}const W=k(h,[["render",K]]);export{W as N};
